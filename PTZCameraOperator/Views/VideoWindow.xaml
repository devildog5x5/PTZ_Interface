<!--
============================================================================
VideoWindow.xaml - Video Observation Window for Operator
Dedicated window for viewing camera video feed
By Robert Foster - Dark Warrior Theme
============================================================================
-->
<Window x:Class="PTZCameraOperator.Views.VideoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vlc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF"
        Title="Camera Video - Operator View" 
        Height="540" Width="960"
        MinHeight="360" MinWidth="640"
        MaxHeight="{x:Static SystemParameters.PrimaryScreenHeight}"
        MaxWidth="{x:Static SystemParameters.PrimaryScreenWidth}"
        Background="{StaticResource BgDarkBrush}"
        WindowStartupLocation="CenterScreen"
        Closing="VideoWindow_Closing">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="{StaticResource BgCardBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1">
            <Grid Margin="16,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Text="ðŸ“¹ CAMERA VIDEO - OPERATOR VIEW" 
                           FontSize="16" FontWeight="Bold" 
                           Foreground="{StaticResource AccentGoldBrush}"
                           VerticalAlignment="Center"/>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button x:Name="StartButton" Content="â–¶ START" 
                            Style="{StaticResource PrimaryButton}"
                            Click="StartButton_Click" 
                            Margin="0,0,8,0" Padding="16,8"/>
                    <Button x:Name="StopButton" Content="â¹ STOP" 
                            Style="{StaticResource ModernButton}"
                            Click="StopButton_Click" 
                            Margin="0,0,8,0" Padding="16,8"
                            IsEnabled="False"/>
                    <Button x:Name="AutoDetectButton" Content="ðŸ” AUTO DETECT" 
                            Style="{StaticResource ModernButton}"
                            Click="AutoDetectButton_Click" 
                            Padding="16,8"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Video Display Area -->
        <Border Grid.Row="1" Background="#000000" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1">
            <Grid>
                <!-- LibVLC Video View -->
                <vlc:VideoView x:Name="VideoView" 
                               Background="Black"
                               HorizontalAlignment="Stretch" 
                               VerticalAlignment="Stretch"/>
                
                <!-- Placeholder when no video -->
                <TextBlock x:Name="PlaceholderText" 
                           Text="No video stream active&#x0a;Click START to begin streaming" 
                           Foreground="{StaticResource TextMutedBrush}" 
                           FontSize="18"
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center"
                           TextAlignment="Center"/>
            </Grid>
        </Border>

        <!-- Footer - Stream URL and Status -->
        <Border Grid.Row="2" Background="{StaticResource BgCardBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,1,0,0">
            <Grid Margin="16,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Text="Stream URL:" 
                           Foreground="{StaticResource TextMutedBrush}" 
                           FontSize="12" 
                           VerticalAlignment="Center" 
                           Margin="0,0,8,0"/>
                
                <TextBox x:Name="StreamUrlTextBox" 
                         Style="{StaticResource ModernTextBox}"
                         Grid.Column="1"
                         Margin="0,0,8,0"
                         TextChanged="StreamUrlTextBox_TextChanged"/>
                
                <Ellipse x:Name="StreamStatusIndicator" 
                         Grid.Column="2"
                         Width="12" Height="12" 
                         Fill="{StaticResource AccentRedBrush}" 
                         Margin="8,0,0,0"
                         VerticalAlignment="Center"/>
            </Grid>
        </Border>
    </Grid>
</Window>
